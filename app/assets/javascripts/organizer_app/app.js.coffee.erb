app = angular.module('organizerApp', ['ngRoute', 'ngResource'])

app.config [
  '$routeProvider',
  ($routeProvider) ->
    $routeProvider
      .when('/schedules/:scheduleId',
        templateUrl: "<%= asset_path('organizer_app/organize_schedule.html') %>"
        controller: 'OrganizeScheduleCtrl'
      )
]

app.factory 'Schedule', [
  '$resource',
  ($resource) ->
    $resource('/api/schedules/:id')
]

app.controller 'OrganizeScheduleCtrl', [
  '$scope', '$routeParams', 'Schedule',
  ($scope, $routeParams, Schedule) ->
    $scope.schedule = Schedule.get(id: $routeParams.scheduleId)
]
